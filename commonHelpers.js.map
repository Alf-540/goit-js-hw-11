{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// import renderFunction from './js/render-functions';\n\nconst formElement = document.querySelector('.form');\nconst galleryElement = document.querySelector('.gallery');\nconst loaderElement = document.querySelector('.loader');\nloaderElement.style.display = 'none';\nconst searchParams = {\n  key: '42343852-9aa533cbe727b606c17f868f6',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nformElement.addEventListener('submit', e => {\n  e.preventDefault();\n  loaderElement.style.display = 'inline-block';\n  galleryElement.innerHTML = '';\n  const inputText = formElement.elements.search.value.trim();\n  searchParams.q = inputText;\n  fetchImage()\n    .then(images => renderGallery(images))\n    .catch(error => console.log(error));\n\n  formElement.reset();\n});\n\nfunction fetchImage() {\n  const urlparams = new URLSearchParams(searchParams);\n  return fetch(`https://pixabay.com/api/?${urlparams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderGallery(images) {\n  if (images.hits.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n    });\n  } else {\n    const item = images.hits\n      .map(\n        image => `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\" >\n      <img\n        class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n      width = \"360\"\n      />\n    </a>\n    <div class=\"img-text\">\n    <div class=\"img-info\">\n    <h3>Likes</h3>\n    <p> ${image.likes}</p>\n    </div>\n    <div class=\"img-info\">\n    <h3>Views</h3>\n    <p> ${image.views}</p>\n    </div>\n       <div class=\"img-info\">\n    <h3>Comments</h3>\n    <p> ${image.comments}</p>\n    </div>\n       <div class=\"img-info\">\n    <h3>Downloads</h3>\n    <p> ${image.downloads}</p>\n    </div>\n      </div>\n  </li>`\n      )\n      .join('');\n\n    galleryElement.innerHTML = item;\n    const lightBox = new SimpleLightbox('.gallery-link');\n    lightBox.refresh();\n  }\n  loaderElement.style.display = 'none';\n}"],"names":["formElement","galleryElement","loaderElement","searchParams","e","inputText","fetchImage","images","renderGallery","error","urlparams","response","iziToast","item","image","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAiB,SAAS,cAAc,UAAU,EAClDC,EAAgB,SAAS,cAAc,SAAS,EACtDA,EAAc,MAAM,QAAU,OAC9B,MAAMC,EAAe,CACnB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEAH,EAAY,iBAAiB,SAAUI,GAAK,CAC1CA,EAAE,eAAc,EAChBF,EAAc,MAAM,QAAU,eAC9BD,EAAe,UAAY,GAC3B,MAAMI,EAAYL,EAAY,SAAS,OAAO,MAAM,OACpDG,EAAa,EAAIE,EACjBC,EAAY,EACT,KAAKC,GAAUC,EAAcD,CAAM,CAAC,EACpC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCT,EAAY,MAAK,CACnB,CAAC,EAED,SAASM,GAAa,CACpB,MAAMI,EAAY,IAAI,gBAAgBP,CAAY,EAClD,OAAO,MAAM,4BAA4BO,CAAS,EAAE,EAAE,KAAKC,GAAY,CACrE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASH,EAAcD,EAAQ,CAC7B,GAAIA,EAAO,KAAK,SAAW,EACzBK,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,MACI,CACL,MAAMC,EAAON,EAAO,KACjB,IACCO,GAAS;AAAA,oCACmBA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOfA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,UAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,UAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,UAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,QAIlB,EACA,KAAK,EAAE,EAEVb,EAAe,UAAYY,EACV,IAAIE,EAAe,eAAe,EAC1C,QAAO,CACjB,CACDb,EAAc,MAAM,QAAU,MAChC"}